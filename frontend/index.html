<!DOCTYPE html>
<html ng-app="FlicPic">
<head>
  <title>FlicPic</title>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script type="text/javascript" src="./js/app.js"></script>
  <script type="text/javascript" src="./js/moviesController.js"></script>
  <script type="text/javascript" src="./js/usersController.js"></script>
  <script type="text/javascript" src="./models/user.js"></script>

  <script type="text/javascript" src="./js/services/tokenService.js"></script>
  <script type="text/javascript" src="./js/services/authInterceptor.js"></script>
</head>
<body ng-controller="UsersController as users">
  <main ng-controller="MoviesController as movies" >
    <header>

    <nav>
      <ul>
        <li><a href="#login">Log In</a></li>
        <li><a href="#register">Register</a></li>
        <li><a ng-click="users.getUsers()">Users</a></li>
        <li><a ng-click="users.logout()">Log Out</a></li>
      </ul>
    </nav>




      <h1>Welcome To FlicPic</h1>
      <h3>Find Movies by searching for titles or genres</h3>
    </header>

    <h2> Welcome to our user-database.</h2>
    <section ng-show="users.all.length">
      <p>Here are a list of our current users:</p>
      <ul>
        <li ng-repeat="user in users.all">
          <strong>{{user.local.fullname}}</strong> {{ user.local.username}} - {{ user.local.email}}
        </li>
      </ul>
    </section>

    <section>
      <h3>Login</h3>
      <form id="login" ng-submit="users.login()">
        <label for="email">Email</label>
        <input type="text" name="email" placeholder="What is your email?" ng-model="users.user.email">

        <label for="password">Password</label>
        <input type="password" name="password" placeholder="What is your password?" ng-model="users.user.password">

        <input type="submit" value="Access">
      </form>
    </section>

    {{ users.user }}

    <section>
      <h3>Register</h3>
      <form id="register" ng-submit="users.register()">
        

        <label for="fullname">Full Name</label>
        <input type="fullname" name="fullname" placeholder="fullname" ng-model="users.user.fullname">


        <label for="email">Email</label>
        <input type="text" name="email" placeholder="What is your email?" ng-model="users.user.email">

        <label for="password">Password</label>
        <input type="password" name="password" placeholder="Password" ng-model="users.user.password">

        <input type="submit" value="Access">
      </form>
    </section>

    <br>

    <form id="movies" ng-submit="movies.getMovies()">
      <input type="text" placeholder="Enter Movie Title" ng-model="movies.title">
      <button type="submit" class="btn btn-default">Submit</button>
    </form>

<!--     <div ng-view></div> -->

    <form id="genres" method="GET" ng-submit="movies.getMovieByGenre(genre)">
      <select ng-model="genre.name" ng-options="genre.id as genre.name for genre in movies.genres"></select>

      <!-- {{ genre.name }} -->

      <button type="submit" class="btn btn-default">Submit</button>
    </form>  

     <!-- <form id="actors" method="GET" ng-submit="movies.getActors()">
        <input type="text" placeholder="Enter Actor Name" ng-model="movies.person.name"> 
        <button type="submit" class="btn btn-default" ng-click="GetActors">Submit</button> 
      </form> -->

  </main>


    
    
    
    <!-- <form id="years" method="GET" ng-submit="movies.getYears()">
      <input type="text" placeholder="Enter Movie Year" ng-model="year"> 
      <button type="submit" class="btn btn-default" ng-click="GetYears">Submit</button> 
    </form> -->
    

  </body>
  </html>